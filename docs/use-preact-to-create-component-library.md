# 使用 preact 创建组件库

## 介绍

### 什么是 preact

1. React 的 3kb 轻量化方案，可替代 react
2. Api 几乎和 react 一致
3. 提供兼容层 preact-compat，可以无缝使用 React 生态系统中其他组件

### 为什么用 preact

1. 出色的表现
   [Preact](https://preactjs.com/) 速度很快，而不仅仅是因为它的大小。由于简单且可预测的 diff 实现，它是目前最快的虚拟 DOM 库之一。当涉及到性能时，会自动批量更新并优化 Preact。
   <br/>

2. 小尺寸
   大多数 UI 框架都足够大，足以占据应用程序 JavaScript 大小的大部分。Preact 有所不同：它很小，因此您的代码是应用程序中最大的部分。这意味着更少的 JavaScript 可以下载，解析和执行-为代码留出更多时间，因此您可以构建自己定义的体验，而无需努力保持框架的可控性。
   <br/>

3. 便携式和嵌入式
   Preact 的占地面积很小，这意味着您可以将强大的 Virtual DOM Component 范式带到其他地方无法企及的新地方。使用 Preact 无需复杂的集成即可构建应用程序的各个部分。将 Preact 嵌入到小部件中，并应用与构建完整应用程序相同的工具和技术。
   <br/>

4. 兼容生态系统
   通过虚拟 DOM 组件，可以轻松共享可重用的内容-从按钮到数据提供程序的所有内容。Preact 的设计意味着您可以无缝使用 React 生态系统中可用的数千个组件。在捆绑程序中添加一个简单的 preact / compat 别名即可提供一个兼容性层，该兼容性层甚至可以在您的应用程序中使用最复杂的 React 组件。
   <br/>

## 需求

市面上的 UI 组件库虽然功能丰富,稳定性高,可以按需加载,但体积还是过大,并且风格固定。

UniverSheet 选用 preact 和 ts 开发 UI 组件库,创建一套拥有自己风格的轻量 UI 组件库,初步设计满足自己的需求,后续可以按照需求进行扩展。

## 开发

1.  创建组件目录
    我们以 button 组件为例，为了样式可以按需引入，以及使用者可以方便修改样式，我们把 css 拿出来单独编写，当然如果你只是为了编写一个组件供少数人使用，也可以直接写在.tsx 里，一个组件包含以下文件:
    ```
    ├─Button
        ├─index.module.less  //模块样式
        |─button.tsx //组件文件
        ├─index.ts //单独打包文件
        |─button.md //组件文档
        └─test
            ├─index.test.tsx  //测试组件
    ```
